<script>
document.addEventListener('DOMContentLoaded', function() {
    const texts = document.querySelectorAll('.animate-text');

    // Fonction pour initialiser l'animation des textes
    const initAnimation = (text) => {
        const words = text.textContent.split(' ');
        text.innerHTML = words.map((word, index) => 
            `<span style="animation-delay: ${0.5 + index * 0.25}s">${word}</span>`
        ).join(' ');

        // Définir le délai d'animation pour l'élément pseudo ::after en fonction du nombre de mots
        const totalAnimationTime = 0.5 + words.length * 0.25 + 0.8; // Ajuster cette formule si nécessaire
        text.style.setProperty('--image-animation-delay', `${totalAnimationTime}s`);
    };

    // Initialisation de l'observateur d'intersection
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                initAnimation(entry.target);
                observer.unobserve(entry.target); // Arrêter d'observer une fois que l'animation est lancée
            }
        });
    }, { threshold: 0.1 });

    // Observer chaque élément .animate-text
    texts.forEach(text => {
        observer.observe(text);
    });
});
</script>



// À copier dans le texte de module text

<h1 class="animate-text">

/* Titre slide-in */

.animate-text {
  position: relative;
  opacity: 0; /* Initialement caché */
}

.animate-text.visible {
  opacity: 1; /* Devenir visible quand dans la vue */
}

.animate-text span {
  display: inline-block;
  animation: slideIn 0.8s both;
  transform: translateY(20%);
  opacity: 0;
}

@keyframes slideIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
